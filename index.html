<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: #edf2f7;
        }
    </style>
</head>

<body class="h-screen flex items-center justify-center overflow-hidden">

    <button
        class="fixed bottom-4 right-4 inline-flex items-center justify-center text-sm font-medium disabled:pointer-events-none disabled:opacity-50 border rounded-full w-16 h-16 bg-black hover:bg-gray-700 cursor-pointer border-gray-200 p-0 normal-case leading-5"
        type="button" aria-haspopup="dialog" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="40" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="text-white">
            <path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"></path>
        </svg>
    </button>

    <div class="fixed bottom-[calc(4rem+1.5rem)] right-0 mr-4 bg-white p-6 rounded-lg border border-gray-300 w-[440px] h-[634px]"
        style="box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);">

        <!-- Heading -->
        <div class="flex flex-col space-y-1.5 pb-6">
            <h2 class="font-semibold text-lg tracking-tight">NeX</h2>
            <p class="text-sm text-gray-500">Powered by Mendable and Vercel</p>
        </div>

        <!-- Chat Container -->
        <div id="chat-container" class="pr-4 h-[474px] overflow-y-auto space-y-4">

            <!-- Example Messages (Removed for Dynamic Update) -->

        </div>

        <!-- Input Box -->
        <div class="flex items-center pt-4">
            <form id="chat-form" class="flex items-center justify-center w-full space-x-2">
                <input id="user-input"
                    class="flex h-10 w-full rounded-md border border-gray-300 px-3 py-2 text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400"
                    placeholder="Type your message" autocomplete="off">
                <button
                    class="inline-flex items-center justify-center rounded-md text-sm font-medium text-white bg-black hover:bg-gray-800 h-10 px-4 py-2">
                    Send
                </button>
            </form>
        </div>

    </div>

    <script>
        const chatContainer = document.getElementById('chat-container');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');

        // Function to add a message to the chat
        function addMessage(sender, message) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `flex gap-3 my-4 text-gray-600 text-sm flex-1`;

            // Avatar
            const avatar = document.createElement('span');
            avatar.className = `relative flex shrink-0 overflow-hidden rounded-full w-8 h-8`;
            const avatarInner = document.createElement('div');
            avatarInner.className = `rounded-full bg-gray-100 border p-1`;
            avatarInner.innerHTML = sender === 'AI'
                ? `<svg stroke="none" fill="black" stroke-width="1.5" viewBox="0 0 24 24" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"></path></svg>`
                : `<svg stroke="none" fill="black" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM8 10c-2.29 0-3.516.68-4.168 1.332C2.84 12.01 2.687 12.75 2.686 13h10c0-.25-.154-.99-.832-1.668C11.516 10.68 10.29 10 8 10Z"></path></svg>`;
            avatar.appendChild(avatarInner);

            // Message
            const messageContent = document.createElement('p');
            messageContent.className = `leading-relaxed`;
            messageContent.innerHTML = `<span class="block font-bold text-gray-700">${sender}</span>${message}`;

            messageWrapper.appendChild(avatar);
            messageWrapper.appendChild(messageContent);

            chatContainer.appendChild(messageWrapper);

            // Scroll to the bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Handle form submit
        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const message = userInput.value.trim();
            if (message) {
                addMessage('You', message); // Add user message
                userInput.value = ''; // Clear input

                // Simulate AI response
                setTimeout(() => {
                    addMessage('AI', `You said: "${message}"`); // Replace with actual AI response logic
                }, 1000);
            }
        });
    </script>

</body>

</html>
